﻿<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>


<script type="text/javascript">

const notificationDisplaySettings = () => {
  const notificationsSwitch = document.getElementById("notificationSwitch");
  if (Notification.permission === "granted") {
    const notifyOn = document.getElementById("notificationsOn");
    if (notifyOn) {
      notifyOn.style.display = "block";
    }
    const notifyOff = document.getElementById("notificationsOff");
    if (notifyOff) {
      notifyOff.style.display = "none";
    }

    notificationsSwitch.checked = true;
  }

  if (Notification.permission === "denied" || Notification.permission === "default") {
    const notifyOn = document.getElementById("notificationsOn");
    if (notifyOn) {
      notifyOn.style.display = "none";
    }
    const notifyOff = document.getElementById("notificationsOff");
    if (notifyOff) {
      notifyOff.style.display = "block";
    }

    notificationsSwitch.checked = false;
  }
};

notificationDisplaySettings();
function toggleNotifications() {
  const notificationsSwitch = document.getElementById("notificationSwitch");
  if (notificationsSwitch.checked) {
    notificationsSwitch.checked = false;
  } else {
    notificationsSwitch.checked = true;
  }

  const modal = document.querySelector(".change-notifications");
    modal.ariaHidden = false;
    modal.classList.toggle("app-modal--visible");
    modal.querySelector('.app-modal__content').focus()

  notificationDisplaySettings();
}
</script>