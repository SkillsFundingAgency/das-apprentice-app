<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $('#tasks-display').load('/Tasks/ToDoTasks');

        $('.todo').on('click', function () {
            $("#tasks-display").html('<div class="loader"></div>');
            $('#tasks-display').load('/Tasks/ToDoTasks');
        });

        $('.done').on('click', function () {
            $("#tasks-display").html('<div class="loader"></div>');
            $('#tasks-display').load('/Tasks/DoneTasks');
        });

        $('.delete-task').on('click', function () {
            $('#deleteTaskModal').addClass("app-modal--visible");
            return false;
        });

        $('.cancel-taskdelete').on('click', function () {
            $('#deleteTaskModal').removeClass('app-modal--visible');
            $('.app-dropdown__menu').removeClass('app-dropdown__menu--visible');
            return false;
        });

        $('.confirm_taskdelete').on('click', function () {
            $('#deleteTaskModal').removeClass('app-modal--visible');
            $('.app-dropdown__menu').removeClass('app-dropdown__menu--visible');
            var taskInt = $('.taskId').val();
            $.ajax({
                type: "DELETE",
                url: '@Url.Action("DeleteApprenticeTask", "Tasks")',
                data: { taskId: taskInt },
                dataType: "json"
            });
            return false;
        });

        $(".post-form").click(function (e) {
            $(".form").submit();
        });
    });

</script>
